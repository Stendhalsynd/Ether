# PLAN.md

## 1. 개발 가정
- 목표: 12주 MVP + 4주 시즌화 시드 확장
- 팀 가정: PM 1, 기획 2, 서버/시스템 1, 클라이언트 1, 아트 2, QA 1
- 모바일 우선 단일 플랫폼으로 시작하고, 안정화 후 확장 고려

## 2. 단계별 계획

### 1단계 (1~2주): 기초 고정
- 목표:
  - 프로젝트 기본 구조 확정
  - 코어 데이터 모델 V1 확정
  - 런 기본 루프 동작
- 산출:
  - `RunContext`, `RunEvent`, `SeasonState` 프로토타입
  - 20분 플레이 가능한 최소 런

### 2단계 (3~6주): 코어+스토리 결합
- 목표:
  - P0 작업 완료
  - NPC 상태 기계 및 메인 플롯 3부 전이
- 산출:
  - 로미아스/라네이레/사이모어/세비리스 동적 대화
  - 중반 라네이레 진실 해석 업데이트 트리거

### 3단계 (7~10주): 시즌 기반 확장
- 목표:
  - 절차적 서사 모듈, 증거 보드, 시즌 엔진 통합
- 산출:
  - 시즌 1 준비 가능한 데이터팩
  - 시즌 보스 1종, 보드-가중치 반영 검증

### 4단계 (11~12주): 알파 정제
- 목표:
  - 반복성 피로 및 랜덤 분산 문제 축소
  - P0 안정성 확보
- 산출:
  - 내부 알파 빌드
  - 핵심 버그 우선순위 목록 및 해결

### 5단계 (13~16주): 라이브 준비
- 목표:
  - 시즌 운영 운영툴 정착
  - 시즌 2 선행 준비
- 산출:
  - 시즌 전환 체크리스트
  - 롤백/비상 배포 기준

## 3. 테스트 시나리오
- S1: 초심자 런(20분)에서 기초 생존 단계 완주
- S2: 같은 증거 조합 시 라네이레 정보 상태가 단계적으로 해석됨
- S3: 연속 3런에서 선택 기록이 다음 런 가중치에 반영
- S4: 시즌 전환 시 네피아 환경/몬스터/증거셋 변경 반영
- S5: 엔드 분기 최소 4개 경로 도달

## 4. 승인 기준
- P0 항목 100% 통과
- Act별 핵심 질문이 적어도 1회는 플레이어 선택으로 해결
- 시즌 적용 배포 후 72시간 내 긴급 패치 없이 안정 동작

## 5. 공개 인터페이스(최소 구현 우선순위)
- `ISeasonService`: 시즌 단계/변형/보상 규칙 조회·적용
- `IRunEngine`: 런 생성·이벤트 발생·결과 산출·리턴
- `IChronicleWriter`: 런 요약 텍스트 생성·보관
- `IProofBoard`: 증거 수집·중복제거·해석 트리거
- `ICharacterArc`: NPC 상태 전이·신뢰도·거래 가능성 결정

## 6. Swarm 운영 방식(현재 계획)
- 운영 모드: 역할 기반 분업(프론트엔드, 백엔드, 기획, QE, 검증)
- 소통 주기: 매일 1회 동기화(진행/블로커/의존성), 스프린트 종료 시 통합 리뷰
- 병렬 원칙:
  - 데이터 모델·인터페이스는 백엔드/기획 선결정
  - FE는 스키마 확정 후 화면 바인딩
  - QE 블로커가 2개 이상 누적되면 스프린트 1회 리커버리 회의
- 승인 게이트:
  - 의존성이 해결된 항목만 `todo`로 개시
  - `blocked` 항목은 원인(데이터/스펙/버그) 라벨로 분류
  - P0 항목은 다음 스프린트 이월 금지

## 7. 스프린트 병행 실행 우선순위(요약)
- Sprint 1: `T1, T2, T4, T5, T12, T13, S1, S2`
- Sprint 2: `T3, T6, T7, T8, T9, T14, T15, S3, S4`
- Sprint 3: `T10, T11, T16, T17, T18, S5`
- Sprint 4: 안정화 항목 + 최종 승인

## 8. 다음 즉시 수행 항목
1. 5개 역할 에이전트 1차 시작
2. Sprint 1에서 `todo` → `in_progress` 전환
3. 3일 단위로 블로커 정리 및 리스크 노트 업데이트
